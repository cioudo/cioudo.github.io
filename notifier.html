<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Scratch Notifier</title>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>

<h1>Scratch Notifier</h1>

<input type="text" id="username" placeholder="Voer gebruikersnaam in">
<button onclick="getMessagesCount()">Controleer berichten</button>
<p id="messageCounter">-</p>

<audio id="notificationSound">
  <source src="notification_sound.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>

<script>
function getMessagesCount() {
    var username = document.getElementById('username').value;
    if (!username) {
        alert("Voer een gebruikersnaam in!");
        return;
    }

    var url = 'https://corsproxy.io/?https://api.scratch.mit.edu/users/' + username + '/messages/count';

    $.get(url, function(data) {
        $('#messageCounter').text(data.count);
        playNotificationSound();
    });
}

function playNotificationSound() {
    var audio = document.getElementById('notificationSound');
    audio.play();
}
</script>

</body>
</html>
